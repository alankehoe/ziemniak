'use strict';

angular.module('ziemniak', ['ngRoute', 'ngResource', 'ngAnimate', 'ui.bootstrap', 'n3-pie-chart',
    'ziemniak.filters', 'ziemniak.services', 'ziemniak.directives', 'ziemniak.controllers'])

        .config(['$httpProvider', function ($httpProvider) {
            $httpProvider.interceptors.push('authInterceptor');
            $httpProvider.defaults.headers.common['Accept'] = 'application/json';
            $httpProvider.defaults.headers.common['Content-Type'] = 'application/json';
        }])

        .config(['$routeProvider', function ($routeProvider) {
            $routeProvider
                    .when('/', {templateUrl: '<%= asset_path('pages/home.html') %>', controller: 'SampleCtrl'})
                    .when('/samples/:id', {templateUrl: '<%= asset_path('pages/sample.html') %>', controller: 'SampleCtrl'})
                    .when('/users/login', {templateUrl: '<%= asset_path('pages/login.html') %>', controller: 'LoginCtrl'})
                    .when('/users/register', {templateUrl: '<%= asset_path('pages/register.html') %>', controller: 'RegisterCtrl'})
                    .otherwise({redirectTo: '/'});
        }]);

